import React, {Component, PropTypes} from 'react'
import {render} from 'react-dom';

import NodeItem from './approve-item.js'

class ApproveList extends Component {
	
	constructor(props){
		super(props);
	}
	render () {
		let self = this;
		let allComplate = this.props.data.allComplate;
		let length = this.props.data.activitys.length;
		let nodes = this.props.data.activitys.map(function(nodeItem,index){
			let nodePosition = (index==0?"start":((index == self.props.data.activitys.length-1)?"end":"mid"));
			var status = nodeItem.status;
			switch (status+"")
			{
				case '1':
					nodeItem.status = 'done';
					break;
				case '2':
					nodeItem.status = 'doing'
					break;
				case '3':
					nodeItem.status = 'undo'
					break;
				case '4':
					nodeItem.status = 'readmore'
					break;
				case '6':
					nodeItem.status = 'termination'
				default:
					break;
			}

			return (
					<NodeItem 
						data = {self.props.data}
						address = {self.props.address}
						node={nodeItem}
						showPic = {self.props.showPic}
						key={index}
						index={index-1}
						showPop={self.props.showPop}
						translateX={self.props.translateX}
						allComplate={allComplate} 
						isOverFlow={self.props.isOverFlow}
						length={length}
                        translation={self.props.translation}
						wrapWidth = {self.props.wrapWidth}
						position={nodePosition} />
				)
		})
		let translate3d = 'translate3d(' + this.props.positionX +'px,0px,0px)';
	
		
		return (
			<div className='approve-status-wrap'  style={{"transform":translate3d}}>
				{nodes}
			</div>

		)
		
		
	}
}

module.exports = ApproveList;